!function(){"use strict";function t(){}function n(t,n){for(var e in n)t[e]=n[e];return t}function e(t,n){for(var e in n)t[e]=1;return t}function i(t,n){t.appendChild(n)}function o(t,n,e){t.insertBefore(n,e)}function r(t){t.parentNode.removeChild(t)}function s(t,n){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function c(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(t,n,e,i){t.addEventListener(n,e,i)}function u(t,n,e,i){t.removeEventListener(n,e,i)}function h(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function l(t,n,e){n in t?t[n]=e:h(t,n,e)}function _(t,n){t.data=""+n}function d(){return Object.create(null)}function g(n){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==n),this._fragment=null,this._state={}}function m(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function p(t,n){var e=t in this._handlers&&this._handlers[t].slice();if(e)for(var i=0;i<e.length;i+=1){var o=e[i];if(!o.__calling)try{o.__calling=!0,o.call(this,n)}finally{o.__calling=!1}}}function v(t){t._lock=!0,C(t._beforecreate),C(t._oncreate),C(t._aftercreate),t._lock=!1}function b(){return this._state}function x(t,n){t._handlers=d(),t._slots=d(),t._bind=n._bind,t._staged={},t.options=n,t.root=n.root||t,t.store=n.store||t.root.store,n.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function y(t,n){var e=this._handlers[t]||(this._handlers[t]=[]);return e.push(n),{cancel:function(){var t=e.indexOf(n);~t&&e.splice(t,1)}}}function L(t){this._set(n({},t)),this.root._lock||v(this.root)}function k(t){var e=this._state,i={},o=!1;t=n(this._staged,t),this._staged={};for(var r in t)this._differs(t[r],e[r])&&(i[r]=o=!0);o&&(this._state=n(n({},e),t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:e}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:e})))}function E(t){n(this._staged,t)}function C(t){for(;t&&t.length;)t.shift()()}function j(t,n){this._fragment[this._fragment.i?"i":"m"](t,n||null)}function w(){this.set({list:this.generateData(100)})}function O(t,n,e){const i=Object.create(t);return i.item=n[e],i}function B(t,n,e){const i=Object.create(t);return i.line=n[e],i}function T(n,e){function h(t){n.handleLoad(10)}function l(t){n.handleLoad(100)}function _(t){n.handleLoad(500)}for(var d,g,m,p,v,b,x,y,L=e.list,k=[],E=0;E<L.length;E+=1)k[E]=D(n,B(e,L,E));return{c(){d=c("div"),(g=c("button")).textContent="Load 10",m=a("\n    "),(p=c("button")).textContent="Load 100",v=a("\n    "),(b=c("button")).textContent="Load 500",x=a("\n"),y=c("div");for(var n=0;n<k.length;n+=1)k[n].c();this.c=t,f(g,"click",h),f(p,"click",l),f(b,"click",_)},m(t,n){o(t,d,n),i(d,g),i(d,m),i(d,p),i(d,v),i(d,b),o(t,x,n),o(t,y,n);for(var e=0;e<k.length;e+=1)k[e].m(y,null)},p(t,e){if(t.list){L=e.list;for(var i=0;i<L.length;i+=1){const o=B(e,L,i);k[i]?k[i].p(t,o):(k[i]=D(n,o),k[i].c(),k[i].m(y,null))}for(;i<k.length;i+=1)k[i].d(1);k.length=L.length}},d(t){t&&r(d),u(g,"click",h),u(p,"click",l),u(b,"click",_),t&&(r(x),r(y)),s(k,t)}}}function A(t,n){var e,i;return{c(){l(e=c("triangle-item"),"text",i=n.item)},m(t,n){o(t,e,n)},p(t,n){t.list&&i!==(i=n.item)&&l(e,"text",i)},d(t){t&&r(e)}}}function D(t,n){for(var e,f,u=n.line,h=[],l=0;l<u.length;l+=1)h[l]=A(t,O(n,u,l));return{c(){e=c("div");for(var t=0;t<h.length;t+=1)h[t].c();f=a("\n    ")},m(t,n){o(t,e,n);for(var r=0;r<h.length;r+=1)h[r].m(e,null);i(e,f)},p(n,i){if(n.list){u=i.line;for(var o=0;o<u.length;o+=1){const r=O(i,u,o);h[o]?h[o].p(n,r):(h[o]=A(t,r),h[o].c(),h[o].m(e,f))}for(;o<h.length;o+=1)h[o].d(1);h.length=u.length}},d(t){t&&r(e),s(h,t)}}}function H(n,e){var s,f;return{c(){s=c("span"),f=a(e.text),this.c=t},m(t,n){o(t,s,n),i(s,f)},p(t,n){t.text&&_(f,n.text)},d(t){t&&r(s)}}}var M={destroy:g,get:b,fire:p,on:y,set:L,_recompute:t,_set:k,_stage:E,_mount:j,_differs:m},N={handleLoad(t){this.set({list:this.generateData(t)})},generateData(t){const n=t,e=[];e[0]=[1],e[1]=[1,1];for(let t=2;t<n;t++){e[t]=[1];for(let n=1;n<=t-1;n++){const i=e[t-1];e[t][n]=i[n]+i[n-1],e[t].push(1)}}return e}};class R extends HTMLElement{constructor(t={}){super(),x(this,t),this._state=n({list:[]},t.data),this._intro=!0,this.attachShadow({mode:"open"}),this._fragment=T(this,this._state),this.root._oncreate.push(()=>{w.call(this);this.fire("update",{changed:e({},this._state),current:this._state})}),this._fragment.c(),this._fragment.m(this.shadowRoot,null),t.target&&this._mount(t.target,t.anchor)}static get observedAttributes(){return["list"]}get list(){return this.get().list}set list(t){this.set({list:t})}attributeChangedCallback(t,n,e){this.set({[t]:e})}connectedCallback(){v(this)}}n(R.prototype,M),n(R.prototype,N),n(R.prototype,{_mount(t,n){t.insertBefore(this,n)}}),customElements.define("pascal-triangle",R);class S extends HTMLElement{constructor(t={}){super(),x(this,t),this._state=n({},t.data),this._intro=!0,this.attachShadow({mode:"open"}),this._fragment=H(this,this._state),this._fragment.c(),this._fragment.m(this.shadowRoot,null),t.target&&this._mount(t.target,t.anchor)}static get observedAttributes(){return["text"]}get text(){return this.get().text}set text(t){this.set({text:t})}attributeChangedCallback(t,n,e){this.set({[t]:e})}}n(S.prototype,M),n(S.prototype,{_mount(t,n){t.insertBefore(this,n)}}),customElements.define("triangle-item",S)}();
