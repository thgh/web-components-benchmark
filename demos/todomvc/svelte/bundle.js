!function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){for(var n in e)t[n]=1;return t}function i(t,e){const n={};for(const i in t)i===e||(n[i]=t[i]);return n}function o(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n)}function r(t){t.parentNode.removeChild(t)}function c(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function a(){return document.createComment("")}function f(t,e,n,i){t.addEventListener(e,n,i)}function d(t,e,n,i){t.removeEventListener(e,n,i)}function l(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function _(t,e){t.data=""+e}function m(){return Object.create(null)}function p(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}}function g(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function v(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var o=n[i];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function x(t){t._lock=!0,C(t._beforecreate),C(t._oncreate),C(t._aftercreate),t._lock=!1}function b(){return this._state}function k(t,e){t._handlers=m(),t._slots=m(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function L(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function y(t){this._set(e({},t)),this.root._lock||x(this.root)}function w(t){var n=this._state,i={},o=!1;t=e(this._staged,t),this._staged={};for(var s in t)this._differs(t[s],n[s])&&(i[s]=o=!0);o&&(this._state=e(e({},n),t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:n}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:n})))}function E(t){e(this._staged,t)}function C(t){for(;t&&t.length;)t.shift()()}function T(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}function H(t){return t.checked?"completed":""}function M(){}function N(e,n){function i(t){e.fire("toggle",{index:n.index})}function c(t){e.fire("remove",{index:n.index})}var a,m,p,g,v,x,b,k;return{c(){a=u("li"),m=u("input"),p=h("\n    "),g=u("label"),v=h(n.text),x=h("\n    "),(b=u("button")).textContent="x",this.c=t,f(m,"click",i),l(m,"type","checkbox"),m.checked=n.checked,f(b,"click",c),b.className="destroy",a.className=k="item "+n.statusClass},m(t,e){s(t,a,e),o(a,m),o(a,p),o(a,g),o(g,v),o(a,x),o(a,b)},p(t,e){n=e,t.checked&&(m.checked=n.checked),t.text&&_(v,n.text),t.statusClass&&k!==(k="item "+n.statusClass)&&(a.className=k)},d(t){t&&r(a),d(m,"click",i),d(b,"click",c)}}}function R(e,n){var i,c,h;return{c(){i=u("form"),c=u("input"),this.c=t,h=z.call(e,c,function(t){e.create(t)}),c.id="new-todo",l(c,"type","text"),c.placeholder="What needs to be done?",i.id="new-todo-form"},m(t,n){s(t,i,n),o(i,c),e.refs.input=c},p:t,d(t){t&&r(i),h.destroy(),e.refs.input===c&&(e.refs.input=null)}}}function B(){return{todoList:J}}function S(){this.refs.input.addEventListener("create",t=>{let e={text:t.detail,checked:!1,index:J.length};J.push(e);this.set({todoList:J})})}function j(t,e,n){const i=Object.create(t);return i.todo=e[n],i.index=n,i}function O(e,n){var i,c,a,f,d,l,_=n.todoList.length>0&&A(e,n);return{c(){(i=u("h1")).textContent="Todos Svelte",c=h("\n"),a=u("section"),f=u("todo-input"),d=h("\n    "),l=u("ul"),_&&_.c(),this.c=t,l.id="list-container"},m(t,n){s(t,i,n),s(t,c,n),s(t,a,n),o(a,f),e.refs.input=f,o(a,d),o(a,l),_&&_.m(l,null)},p(t,n){n.todoList.length>0?_?_.p(t,n):((_=A(e,n)).c(),_.m(l,null)):_&&(_.d(1),_=null)},d(t){t&&(r(i),r(c),r(a)),e.refs.input===f&&(e.refs.input=null),_&&_.d()}}}function A(t,e){for(var n,i=e.todoList,o=[],u=0;u<i.length;u+=1)o[u]=I(t,j(e,i,u));return{c(){for(var t=0;t<o.length;t+=1)o[t].c();n=a()},m(t,e){for(var i=0;i<o.length;i+=1)o[i].m(t,e);s(t,n,e)},p(e,s){if(e.todoList){i=s.todoList;for(var r=0;r<i.length;r+=1){const c=j(s,i,r);o[r]?o[r].p(e,c):(o[r]=I(t,c),o[r].c(),o[r].m(n.parentNode,n))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},d(t){c(o,t),t&&r(n)}}}function I(t,e){var n={text:e.todo.text,checked:e.todo.checked,index:e.index},i=new q({root:t.root,store:t.store,data:n});return i.on("toggle",function(e){t.toggleItem(e)}),i.on("remove",function(e){t.removeItem(e)}),{c(){i._fragment.c()},m(t,e){i._mount(t,e)},p(t,e){var n={};t.todoList&&(n.text=e.todo.text),t.todoList&&(n.checked=e.todo.checked),i._set(n)},d(t){i.destroy(t)}}}var W={destroy:p,get:b,fire:v,on:L,set:y,_recompute:t,_set:w,_stage:E,_mount:T,_differs:g},D={onToggle(t){const e=new CustomEvent("toggle",{detail:this.index,bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(e)},onRemove(t){const e=new CustomEvent("remove",{detail:this.index,bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(e)}};class q extends HTMLElement{constructor(t={}){super(),k(this,t),this._state=e({},t.data),this._recompute({},this._state),this._intro=!0,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>:host{display:block}li.item{font-size:24px;display:block;position:relative;border-bottom:1px solid #ededed}li.item input{text-align:center;width:40px;height:auto;position:absolute;top:9px;bottom:0;margin:auto 0;border:none;-webkit-appearance:none;appearance:none}li.item input:after{content:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="none" stroke="#ededed" stroke-width="3"/></svg>')}li.item input:checked:after{content:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="none" stroke="#bddad5" stroke-width="3"/><path fill="#5dc2af" d="M72 25L42 71 27 56l-4 4 20 20 34-52z"/></svg>')}li.item label{white-space:pre;word-break:break-word;padding:15px 60px 15px 15px;margin-left:45px;display:block;line-height:1.2;transition:color 0.4s}li.item.completed label{color:#d9d9d9;text-decoration:line-through}li.item button,li.item input[type="checkbox"]{outline:none}li.item button{margin:0;padding:0;border:0;background:none;font-size:100%;vertical-align:baseline;font-family:inherit;font-weight:inherit;color:inherit;-webkit-appearance:none;appearance:none;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;font-smoothing:antialiased}li.item .destroy{position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0;font-size:30px;color:#cc9a9a;margin-bottom:11px;transition:color 0.2s ease-out}li.item .destroy:hover{color:#af5b5e}</style>`,this._fragment=N(this,this._state),this.root._oncreate.push(()=>{M.call(this);this.fire("update",{changed:n({},this._state),current:this._state})}),this._fragment.c(),this._fragment.m(this.shadowRoot,null),t.target&&this._mount(t.target,t.anchor)}static get observedAttributes(){return["text","checked","index"]}get text(){return this.get().text}set text(t){this.set({text:t})}get checked(){return this.get().checked}set checked(t){this.set({checked:t})}get index(){return this.get().index}set index(t){this.set({index:t})}attributeChangedCallback(t,e,n){this.set({[t]:n})}connectedCallback(){x(this)}}e(q.prototype,W),e(q.prototype,D),e(q.prototype,{_mount(t,e){t.insertBefore(this,e)}}),customElements.define("todo-item",q),q.prototype._recompute=function(t,e){this._differs(e.statusClass,e.statusClass=H(i(e,"statusClass")))&&(t.statusClass=!0)};var z=function(t){return function(e,n){function i(e){e.which===t&&n.call(this,e)}return e.addEventListener("keydown",i,!1),{teardown(){e.removeEventListener("keydown",i,!1)}}}}(13),F={create(t){t.preventDefault();const e=this.refs.input,n=new CustomEvent("create",{detail:e.value,bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(n),this.refs.input.value=""}};class G extends HTMLElement{constructor(t={}){super(),k(this,t),this.refs={},this._state=e({},t.data),this._intro=!0,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>#new-todo-form{position:relative;font-size:24px;border-bottom:1px solid #ededed}#new-todo{padding:16px 16px 16px 60px;border:none;background:rgba(0, 0, 0, 0.003);position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;border:0;outline:none;color:inherit;padding:6px;border:1px solid #CCC;box-shadow:inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);box-sizing:border-box}</style>`,this._fragment=R(this,this._state),this._fragment.c(),this._fragment.m(this.shadowRoot,null),t.target&&this._mount(t.target,t.anchor)}static get observedAttributes(){return[]}attributeChangedCallback(t,e,n){this.set({[t]:n})}}e(G.prototype,W),e(G.prototype,F),e(G.prototype,{_mount(t,e){t.insertBefore(this,e)}}),customElements.define("todo-input",G);let J=[{text:"my initial todo",checked:!1,index:0},{text:"Learn about Web Components",checked:!0,index:1}];var K={removeItem(t){const{todoList:todoList}=this.get();todoList.splice(t.index,1),this.set({todoList:todoList})},toggleItem(t){const{todoList:todoList}=this.get(),e=todoList[t.index];todoList[t.index].checked=!e.checked,this.set({todoList:todoList})}};class P extends HTMLElement{constructor(t={}){super(),k(this,t),this.refs={},this._state=e(B(),t.data),this._intro=!0,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>h1{font-size:90px;font-weight:100;text-align:center;color:rgba(175, 47, 47, 0.15)}section{background:#fff;margin:130px 0 40px 0;position:relative;box-shadow:0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1)}#list-container{margin:0;padding:0;list-style:none;border-top:1px solid #e6e6e6}</style>`,this._fragment=O(this,this._state),this.root._oncreate.push(()=>{S.call(this);this.fire("update",{changed:n({},this._state),current:this._state})}),this._fragment.c(),this._fragment.m(this.shadowRoot,null),t.target&&this._mount(t.target,t.anchor)}static get observedAttributes(){return["todoList"]}get todoList(){return this.get().todoList}set todoList(t){this.set({todoList:t})}attributeChangedCallback(t,e,n){this.set({[t]:n})}connectedCallback(){x(this)}}e(P.prototype,W),e(P.prototype,K),e(P.prototype,{_mount(t,e){t.insertBefore(this,e)}}),customElements.define("my-todo",P)}();
